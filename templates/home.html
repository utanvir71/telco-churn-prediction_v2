<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Telco Churn â€“ Prediction</title>
  <style>
    body { font-family: system-ui, sans-serif; max-width: 900px; margin: 2rem auto; }
    form { display: grid; grid-template-columns: repeat(2, minmax(280px, 1fr)); gap: 12px 24px; }
    label { font-weight: 600; }
    .row { display: flex; flex-direction: column; }
    .actions { grid-column: 1 / -1; margin-top: 8px; }
    .result { margin-top: 24px; padding: 12px; background: #f5f5f5; border-radius: 8px; }
  </style>
</head>
<body>
  <h1>Customer Churn Prediction</h1>

  <form action="/predictdata" method="post">
    <div class="row">
      <label>Customer ID</label>
      <input type="text" name="customerID" placeholder="Dummy" />
    </div>

    <div class="row">
      <label>Gender</label>
      <select name="gender">
        <option value="Male" selected>Male</option>
        <option value="Female">Female</option>
      </select>
    </div>

    <div class="row">
      <label>SeniorCitizen</label>
      <select name="SeniorCitizen">
        <option value="0" selected>No</option>
        <option value="1">Yes</option>
      </select>
    </div>

    <div class="row">
      <label>Partner</label>
      <select name="Partner">
        <option value="No" selected>No</option>
        <option value="Yes">Yes</option>
      </select>
    </div>

    <div class="row">
      <label>Dependents</label>
      <select name="Dependents">
        <option value="No" selected>No</option>
        <option value="Yes">Yes</option>
      </select>
    </div>

    <div class="row">
      <label>Tenure (months)</label>
      <input type="number" name="tenure" min="0" step="1" value="12" required />
    </div>

    <div class="row">
      <label>PhoneService</label>
      <select name="PhoneService">
        <option value="Yes" selected>Yes</option>
        <option value="No">No</option>
      </select>
    </div>

    <div class="row">
      <label>MultipleLines</label>
      <select name="MultipleLines">
        <option value="No" selected>No</option>
        <option value="Yes">Yes</option>
        <option value="No phone service">No phone service</option>
      </select>
    </div>

    <div class="row">
      <label>InternetService</label>
      <select name="InternetService">
        <option value="Fiber optic" selected>Fiber optic</option>
        <option value="DSL">DSL</option>
        <option value="No">No</option>
      </select>
    </div>

    <div class="row">
      <label>OnlineSecurity</label>
      <select name="OnlineSecurity">
        <option value="No" selected>No</option>
        <option value="Yes">Yes</option>
        <option value="No internet service">No internet service</option>
      </select>
    </div>

    <div class="row">
      <label>OnlineBackup</label>
      <select name="OnlineBackup">
        <option value="No" selected>No</option>
        <option value="Yes">Yes</option>
        <option value="No internet service">No internet service</option>
      </select>
    </div>

    <div class="row">
      <label>DeviceProtection</label>
      <select name="DeviceProtection">
        <option value="No" selected>No</option>
        <option value="Yes">Yes</option>
        <option value="No internet service">No internet service</option>
      </select>
    </div>

    <div class="row">
      <label>TechSupport</label>
      <select name="TechSupport">
        <option value="No" selected>No</option>
        <option value="Yes">Yes</option>
        <option value="No internet service">No internet service</option>
      </select>
    </div>

    <div class="row">
      <label>StreamingTV</label>
      <select name="StreamingTV">
        <option value="No" selected>No</option>
        <option value="Yes">Yes</option>
        <option value="No internet service">No internet service</option>
      </select>
    </div>

    <div class="row">
      <label>StreamingMovies</label>
      <select name="StreamingMovies">
        <option value="No" selected>No</option>
        <option value="Yes">Yes</option>
        <option value="No internet service">No internet service</option>
      </select>
    </div>

    <div class="row">
      <label>Contract</label>
      <select name="Contract">
        <option value="Month-to-month" selected>Month-to-month</option>
        <option value="One year">One year</option>
        <option value="Two year">Two year</option>
      </select>
    </div>

    <div class="row">
      <label>PaperlessBilling</label>
      <select name="PaperlessBilling">
        <option value="Yes" selected>Yes</option>
        <option value="No">No</option>
      </select>
    </div>

    <div class="row">
      <label>PaymentMethod</label>
      <select name="PaymentMethod">
        <option value="Electronic check" selected>Electronic check</option>
        <option value="Mailed check">Mailed check</option>
        <option value="Bank transfer (automatic)">Bank transfer (automatic)</option>
        <option value="Credit card (automatic)">Credit card (automatic)</option>
      </select>
    </div>

    <div class="row">
      <label>MonthlyCharges</label>
      <input type="number" step="0.01" name="MonthlyCharges" value="70.00" required />
    </div>

    <div class="row">
      <label>TotalCharges (leave blank to auto-fill)</label>
      <input type="number" step="0.01" name="TotalCharges" />
    </div>

    <div class="actions">
      <button type="submit">Predict</button>
    </div>
  </form>

  {% if results %}
  <div class="result">
    <h2>Churn probability: {{ results }}</h2>
    {% if label is not none %}
      <p>Predicted class: <strong>{{ label }}</strong> (1 = churn, 0 = stay)</p>
    {% endif %}
  </div>
  {% endif %}
</body>
</html>
